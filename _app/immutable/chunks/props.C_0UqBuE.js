import{S as N,T as U,b as R,x as Y,U as m,V as x,W as y,X as M,Y as $,Z as o,g as d,_ as V,$ as Z,a0 as z,a1 as g,a2 as G,a3 as H,a4 as W,f as p,a5 as X,D as j,y as q,a6 as J}from"./runtime.B8sCgX85.js";import{p as K}from"./if.Cb8ieV5z.js";import{c as Q}from"./store.mAQm_eWK.js";function B(r,a){return r===a||(r==null?void 0:r[m])===a}function er(r={},a,i,v){return N(()=>{var s,f;return U(()=>{s=f,f=[],R(()=>{r!==i(...f)&&(a(r,...f),s&&B(i(...s),r)&&a(null,...s))})}),()=>{Y(()=>{f&&B(i(...f),r)&&a(null,...f)})}}),r}function w(r){for(var a=q,i=q;a!==null&&!(a.f&(Z|z));)a=a.parent;try{return g(a),r()}finally{g(i)}}function fr(r,a,i,v){var L;var s=(i&G)!==0,f=(i&H)!==0,O=(i&W)!==0,C=(i&J)!==0,T=!1,u;O?[u,T]=Q(()=>r[a]):u=r[a];var l=(L=x(r,a))==null?void 0:L.set,t=v,S=!0,P=!1,A=()=>(P=!0,S&&(S=!1,C?t=R(v):t=v),t);u===void 0&&v!==void 0&&(l&&f&&y(),u=A(),l&&l(u));var n;if(f)n=()=>{var e=r[a];return e===void 0?A():(S=!0,P=!1,e)};else{var b=w(()=>(s?p:X)(()=>r[a]));b.f|=M,n=()=>{var e=d(b);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(i&$))return n;if(l){var F=r.$$legacy;return function(e,_){return arguments.length>0?((!f||!_||F||T)&&l(_?n():e),e):n()}}var E=!1,D=!1,I=j(u),c=w(()=>p(()=>{var e=n(),_=d(I);return E?(E=!1,D=!0,_):(D=!1,I.v=e)}));return s||(c.equals=o),function(e,_){if(arguments.length>0){const h=_?d(c):f&&O?K(e):e;return c.equals(h)||(E=!0,V(I,h),P&&t!==void 0&&(t=h),R(()=>d(c))),e}return d(c)}}export{er as b,fr as p};
