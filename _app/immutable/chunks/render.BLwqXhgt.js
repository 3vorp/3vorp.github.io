import{C as I,ac as V,at as Y,i as M,c as D,b as W,au as j,h as w,av as O,A as S,e as v,s as m,f as h,y as C,aw as L,ax as A,a as q,z,ay as B,az as F,v as P,d as $,aA as G,j as U,U as J,k as K,Y as Q,G as X}from"./runtime.C5VmsT4o.js";import{b as Z}from"./disclose-version.BbFhrRkY.js";const x=new Set,k=new Set;function ee(e,a,t,i){function s(r){if(i.capture||E.call(a,r),!r.cancelBubble)return t.call(this,r)}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?V(()=>{a.addEventListener(e,s,i)}):a.addEventListener(e,s,i),s}function oe(e,a,t,i,s){var r={capture:i,passive:s},f=ee(e,a,t,r);(a===document.body||a===window||a===document)&&I(()=>{a.removeEventListener(e,f,r)})}function E(e){var R;var a=this,t=a.ownerDocument,i=e.type,s=((R=e.composedPath)==null?void 0:R.call(e))||[],r=s[0]||e.target,f=0,y=e.__root;if(y){var l=s.indexOf(y);if(l!==-1&&(a===document||a===window)){e.__root=a;return}var c=s.indexOf(a);if(c===-1)return;l<=c&&(f=l)}if(r=s[f]||e.target,r!==a){Y(e,"currentTarget",{configurable:!0,get(){return r||t}});try{for(var p,u=[];r!==null;){var o=r.assignedSlot||r.parentNode||r.host||null;try{var n=r["__"+i];if(n!==void 0&&!r.disabled)if(M(n)){var[_,...b]=n;_.apply(r,[e,...b])}else n.call(r,e)}catch(T){p?u.push(T):p=T}if(e.cancelBubble||o===a||o===null)break;r=o}if(p){for(let T of u)queueMicrotask(()=>{throw T});throw p}}finally{e.__root=a,delete e.currentTarget}}}let d;function ae(){d=void 0}function de(e){let a=null,t=w;var i;if(w){for(a=h,d===void 0&&(d=C(document.head));d!==null&&(d.nodeType!==8||d.data!==O);)d=S(d);d===null?v(!1):d=m(S(d))}w||(i=document.head.appendChild(D()));try{W(()=>e(i),j)}finally{t&&(v(!0),d=h,m(a))}}const re=["touchstart","touchmove"];function te(e){return re.includes(e)}function ue(e,a){var t=a==null?"":typeof a=="object"?a+"":a;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function ne(e,a){return H(e,a)}function fe(e,a){L(),a.intro=a.intro??!1;const t=a.target,i=w,s=h;try{for(var r=C(t);r&&(r.nodeType!==8||r.data!==O);)r=S(r);if(!r)throw A;v(!0),m(r),q();const f=H(e,{...a,anchor:r});if(h===null||h.nodeType!==8||h.data!==z)throw B(),A;return v(!1),f}catch(f){if(f===A)return a.recover===!1&&F(),L(),P(t),v(!1),ne(e,a);throw f}finally{v(i),m(s),ae()}}const g=new Map;function H(e,{target:a,anchor:t,props:i={},events:s,context:r,intro:f=!0}){L();var y=new Set,l=u=>{for(var o=0;o<u.length;o++){var n=u[o];if(!y.has(n)){y.add(n);var _=te(n);a.addEventListener(n,E,{passive:_});var b=g.get(n);b===void 0?(document.addEventListener(n,E,{passive:_}),g.set(n,1)):g.set(n,b+1)}}};l($(x)),k.add(l);var c=void 0,p=G(()=>{var u=t??a.appendChild(D());return U(()=>{if(r){J({});var o=X;o.c=r}s&&(i.$$events=s),w&&Z(u,null),c=e(u,i)||{},w&&(K.nodes_end=h),r&&Q()}),()=>{var _;for(var o of y){a.removeEventListener(o,E);var n=g.get(o);--n===0?(document.removeEventListener(o,E),g.delete(o)):g.set(o,n)}k.delete(l),N.delete(c),u!==t&&((_=u.parentNode)==null||_.removeChild(u))}});return N.set(c,p),c}let N=new WeakMap;function le(e){const a=N.get(e);a&&a()}export{de as a,oe as e,fe as h,ne as m,ue as s,le as u};
